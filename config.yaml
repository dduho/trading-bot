# Trading Bot Configuration

# Trading pairs to monitor
# Choix de cryptos volatiles pour apprentissage rapide
symbols:
  - SOL/USDT    # Solana - haute volatilité
  - AVAX/USDT   # Avalanche - mouvements fréquents
  - MATIC/USDT  # Polygon - actif et volatile
  - DOGE/USDT   # Dogecoin - très volatile
  - ADA/USDT    # Cardano - bonne liquidité

# Analysis timeframes
timeframes:
  - 5m   # 5 minutes (timeframe principal - moins de bruit)
  - 15m  # 15 minutes
  - 1h   # 1 heure (pour tendance globale)

# Technical indicators configuration
indicators:
  rsi:
    period: 14
    overbought: 70
    oversold: 30

  macd:
    fast_period: 12
    slow_period: 26
    signal_period: 9

  moving_averages:
    sma_short: 20
    sma_long: 50
    ema_short: 12
    ema_long: 26

  bollinger_bands:
    period: 20
    std_dev: 2

# Trading strategy
strategy:
  name: "Multi-Indicator Strategy"
  min_confidence: 0.60  # ML recommended: increased from 0.14 for better selectivity

  # Signal weights optimized by ML (based on feature importance and performance analysis)
  weights:
    rsi: 0.1771          # ML optimized: RSI importance
    macd: 0.2116         # ML optimized: MACD importance (includes macd_hist)
    moving_averages: 0.3305  # ML optimized: MA crossover is most important feature!
    volume: 0.1752       # ML optimized: Volume ratio importance
    trend: 0.1057        # ML optimized: Trend indicator importance

  anti_trend_filter:
    enabled: true
    extra_conf_margin: 0.02  # Exige (min_confidence + marge) si signal va contre la tendance

# Risk management
risk:
  max_position_size_percent: 5    # 5% par position (inchangé)
  stop_loss_percent: 2.0          # Stop loss at 2%
  take_profit_percent: 6.0        # ML recommended: increased from 4.0 to 6.0 (3:1 ratio)
  trailing_stop_percent: 1.5
  risk_reward_ratio: 3.0          # ML recommended: increased from 2.0 to 3.0 (target 2.0 min)
  max_open_positions: 3           # Reduced for better focus with higher confidence
  max_daily_trades: 30            # Reduced - quality over quantity with ML filtering
  max_daily_loss_percent: 5.0
  cooldown_seconds: 120           # Increased cooldown for better trade spacing

# Execution settings
execution:
  order_type: limit  # market or limit
  slippage_tolerance: 0.5  # % tolerance for price slippage

# Adaptive Learning System - CONTINUOUS LEARNING MODE
learning:
  enabled: true  # Enable/disable learning system
  learning_interval_hours: 2  # OPTIMIZED: Learning cycle every 2 hours (apprentissage continu)
  min_trades_for_learning: 10  # REDUCED: Only 10 trades needed (apprentissage plus rapide)
  adaptation_aggressiveness: aggressive  # AGGRESSIVE: Adaptations rapides et fréquentes
  auto_apply_adaptations: true  # ML ENABLED: Auto-apply learned improvements
  continuous_learning: true  # NEW: Mode apprentissage continu activé

  # ML Model settings
  ml_model:
    type: random_forest  # random_forest or gradient_boosting
    retrain_interval_hours: 24  # OPTIMIZED: Retrain model every day (au lieu de 168h)
    min_accuracy_threshold: 0.55  # LOWERED: Accept models with 55% accuracy (plus permissif)
    incremental_learning: true  # NEW: Apprentissage incrémental (sans tout réentraîner)
    auto_retrain_on_poor_performance: true  # NEW: Réentraînement automatique si performance baisse

  # Learning goals
  target_metrics:
    win_rate: 0.55  # Target 55% win rate
    profit_factor: 2.0  # Target profit factor
    sharpe_ratio: 1.5  # Target Sharpe ratio
  
  # Performance monitoring for continuous improvement
  performance_monitoring:
    check_interval_hours: 1  # NEW: Vérifier la performance toutes les heures
    degradation_threshold: 0.05  # NEW: Si performance baisse de 5%, réapprendre
    improvement_reward_multiplier: 1.2  # NEW: Favoriser les stratégies qui s'améliorent

# Notifications (optional)
notifications:
  enabled: false
  # Add your notification settings (email, telegram, etc.)
